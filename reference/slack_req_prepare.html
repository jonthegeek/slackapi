<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate a request for the Slack API — slack_req_prepare • slackapi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a request for the Slack API — slack_req_prepare"><meta name="description" content="Prepare a request for the Slack API, using the opinionated framework defined
in nectar::req_init(), nectar::req_modify(), nectar::req_tidy_policy(),
and nectar::req_pagination_policy()."><meta property="og:description" content="Prepare a request for the Slack API, using the opinionated framework defined
in nectar::req_init(), nectar::req_modify(), nectar::req_tidy_policy(),
and nectar::req_pagination_policy()."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">slackapi</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jonthegeek/slackapi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate a request for the Slack API</h1>
      <small class="dont-index">Source: <a href="https://github.com/jonthegeek/slackapi/blob/main/R/010-prepare.R" class="external-link"><code>R/010-prepare.R</code></a></small>
      <div class="d-none name"><code>slack_req_prepare.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Prepare a request for the Slack API, using the opinionated framework defined
in <code><a href="https://nectar.api2r.org/reference/req_init.html" class="external-link">nectar::req_init()</a></code>, <code><a href="https://nectar.api2r.org/reference/req_modify.html" class="external-link">nectar::req_modify()</a></code>, <code><a href="https://nectar.api2r.org/reference/req_tidy_policy.html" class="external-link">nectar::req_tidy_policy()</a></code>,
and <code><a href="https://nectar.api2r.org/reference/req_pagination_policy.html" class="external-link">nectar::req_pagination_policy()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">slack_req_prepare</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  body <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pagination <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"cursor"</span><span class="op">)</span>,</span>
<span>  tidy_fn <span class="op">=</span> <span class="fu">nectar</span><span class="fu">::</span><span class="va"><a href="https://nectar.api2r.org/reference/resp_tidy_unknown.html" class="external-link">resp_tidy_unknown</a></span>,</span>
<span>  token <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"SLACK_API_TOKEN"</span><span class="op">)</span>,</span>
<span>  call <span class="op">=</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/stack.html" class="external-link">caller_env</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>(<code>character</code> or <code>list</code>) The route to an API endpoint. Optionally,
a list or character vector with the path as one or more unnamed arguments
(which will be concatenated with "/") plus named arguments to
<code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code> into the path.</p></dd>


<dt id="arg-query">query<a class="anchor" aria-label="anchor" href="#arg-query"></a></dt>
<dd><p>(<code>character</code> or <code>list</code>) An optional list or character vector of
parameters to pass in the query portion of the request. Can also include a
<code>.multi</code> argument to pass to <code><a href="https://httr2.r-lib.org/reference/req_url.html" class="external-link">httr2::req_url_query()</a></code> to control how
elements containing multiple values are handled.</p></dd>


<dt id="arg-body">body<a class="anchor" aria-label="anchor" href="#arg-body"></a></dt>
<dd><p>(multiple types) An object to use as the body of the request. If
any component of the body is a path, pass it through <code><a href="https://fs.r-lib.org/reference/path.html" class="external-link">fs::path()</a></code> or
otherwise give it the class "fs_path" to indicate that it is a path.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>(<code>length-1 character</code>, optional) If the method is something
other than <code>GET</code> or <code>POST</code>, supply it. Case is ignored.</p></dd>


<dt id="arg-pagination">pagination<a class="anchor" aria-label="anchor" href="#arg-pagination"></a></dt>
<dd><p>(<code>character</code>) The pagination scheme to use. Currently
either "none" (the default) or "cursor" (a scheme that uses <code>cursor</code>-based
pagination; see <a href="https://api.slack.com/apis/pagination" class="external-link">Pagination through collections</a> in the Slack API
documentation. We do not currently support "Classic pagination".</p></dd>


<dt id="arg-tidy-fn">tidy_fn<a class="anchor" aria-label="anchor" href="#arg-tidy-fn"></a></dt>
<dd><p>(<code>function</code>) A function that will be invoked by <code><a href="https://nectar.api2r.org/reference/resp_tidy.html" class="external-link">resp_tidy()</a></code>
to tidy the response.</p></dd>


<dt id="arg-token">token<a class="anchor" aria-label="anchor" href="#arg-token"></a></dt>
<dd><p>(<code>character</code>) A bearer token provided by Slack. A later
enhancement will add the ability to generate this token. Slack token are
long-lasting, and should be carefully guarded.</p></dd>


<dt id="arg-call">call<a class="anchor" aria-label="anchor" href="#arg-call"></a></dt>
<dd><p>(<code>environment</code>) The environment from which a function was called,
e.g. <code><a href="https://rlang.r-lib.org/reference/stack.html" class="external-link">rlang::caller_env()</a></code> (the default). The environment will be mentioned
in error messages as the source of the error. This argument is particularly
useful for functions that are intended to be called as utilities inside
other functions.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code><a href="https://httr2.r-lib.org/reference/request.html" class="external-link">httr2::request()</a></code> object with additional class <code>nectar_request</code>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jon Harmon.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

